{
  "title": "API Reference and Integration Guide",
  "slug": "api-reference-guide",
  "category": "API",
  "excerpt": "Complete guide to StatusApp API for programmatic monitor and incident management.",
  "order": 9,
  "content": "# API Reference and Integration Guide\n\n## Getting Started with the API\n\n### Authentication\n\nAll API requests require an API key in the Authorization header:\n\n```bash\ncurl -H \"Authorization: Bearer sk_live_abc123...\" \\\n  https://api.statusapp.io/monitors\n```\n\n### API Key Management\n\n1. Go to **Settings > API Keys**\n2. Click **Create New Key**\n3. Enter key name\n4. Select permissions:\n   - **read**: View data only\n   - **write**: Create and update data\n   - **admin**: Full access\n5. Copy and save securely\n\n### Rate Limits\n\n- **Free Plan**: 100 requests/hour\n- **Starter Plan**: 1,000 requests/hour\n- **Professional Plan**: 10,000 requests/hour\n- **Business Plan**: 50,000 requests/hour\n- **Enterprise**: Custom limits\n\n## Endpoints\n\n### Monitors\n\n#### List Monitors\n\n```bash\nGET /api/monitors\n```\n\nParameters:\n- `status`: Filter by status (UP, DOWN, DEGRADED)\n- `category`: Filter by monitor type\n- `limit`: Results per page (default: 20, max: 100)\n- `page`: Page number (default: 1)\n\n#### Get Monitor Details\n\n```bash\nGET /api/monitors/{id}\n```\n\n#### Create Monitor\n\n```bash\nPOST /api/monitors\n\n{\n  \"name\": \"API Health Check\",\n  \"type\": \"http\",\n  \"url\": \"https://api.example.com/health\",\n  \"interval\": 60,\n  \"timeout\": 10\n}\n```\n\n#### Update Monitor\n\n```bash\nPUT /api/monitors/{id}\n\n{\n  \"name\": \"Updated Name\",\n  \"status\": \"PAUSED\"\n}\n```\n\n#### Delete Monitor\n\n```bash\nDELETE /api/monitors/{id}\n```\n\n### Incidents\n\n#### List Incidents\n\n```bash\nGET /api/incidents\n\nParameters:\n- status: Filter by status (INVESTIGATING, IDENTIFIED, MONITORING, RESOLVED)\n- limit: Results per page\n- page: Page number\n```\n\n#### Create Incident\n\n```bash\nPOST /api/incidents\n\n{\n  \"title\": \"Database Maintenance\",\n  \"description\": \"Planned maintenance on primary database\",\n  \"status\": \"INVESTIGATING\",\n  \"affectedComponents\": [\"mon_123\", \"mon_456\"],\n  \"impact\": \"high\"\n}\n```\n\n#### Update Incident\n\n```bash\nPUT /api/incidents/{id}\n\n{\n  \"status\": \"RESOLVED\",\n  \"update\": \"Issue resolved. All systems operational.\"\n}\n```\n\n#### Add Incident Update\n\n```bash\nPOST /api/incidents/{id}/updates\n\n{\n  \"message\": \"Investigating database connectivity issues\",\n  \"notifySubscribers\": true\n}\n```\n\n### Status Pages\n\n#### List Status Pages\n\n```bash\nGET /api/status-pages\n```\n\n#### Get Status Page\n\n```bash\nGET /api/status-pages/{id}\n```\n\n#### Update Status Page\n\n```bash\nPUT /api/status-pages/{id}\n\n{\n  \"name\": \"Updated Name\",\n  \"description\": \"Updated description\"\n}\n```\n\n### Webhooks\n\n#### Event Types\n\n- `monitor.down`: Monitor status changed to DOWN\n- `monitor.up`: Monitor recovered to UP\n- `incident.created`: New incident created\n- `incident.updated`: Incident status changed\n- `incident.resolved`: Incident resolved\n\n#### Webhook Payload\n\n```json\n{\n  \"event\": \"monitor.down\",\n  \"timestamp\": \"2024-01-21T10:30:00Z\",\n  \"monitor\": {\n    \"id\": \"mon_123\",\n    \"name\": \"API Server\",\n    \"status\": \"DOWN\",\n    \"lastCheck\": \"2024-01-21T10:29:58Z\"\n  },\n  \"incident\": {\n    \"id\": \"inc_456\",\n    \"status\": \"ACTIVE\"\n  }\n}\n```\n\n#### Verifying Webhook Signatures\n\n```python\nimport hmac\nimport hashlib\n\ndef verify_signature(payload, signature, secret):\n    expected = hmac.new(\n        secret.encode(),\n        payload.encode(),\n        hashlib.sha256\n    ).hexdigest()\n    return hmac.compare_digest(signature, expected)\n```\n\n## Error Handling\n\n### HTTP Status Codes\n\n- `200 OK`: Request successful\n- `201 Created`: Resource created\n- `400 Bad Request`: Invalid parameters\n- `401 Unauthorized`: Invalid API key\n- `403 Forbidden`: Insufficient permissions\n- `404 Not Found`: Resource not found\n- `429 Too Many Requests`: Rate limit exceeded\n- `500 Internal Server Error`: Server error\n\n### Error Response\n\n```json\n{\n  \"error\": {\n    \"code\": \"invalid_request\",\n    \"message\": \"Invalid monitor URL\",\n    \"details\": \"URL must be valid HTTP/HTTPS\"\n  }\n}\n```\n\n## Integration Examples\n\n### Python Integration\n\n```python\nimport requests\n\napi_key = \"sk_live_abc123\"\nheaders = {\"Authorization\": f\"Bearer {api_key}\"}\n\n# Get all monitors\nresponse = requests.get(\n    \"https://api.statusapp.io/monitors\",\n    headers=headers\n)\nmonitors = response.json()\n\n# Create incident\nincident_data = {\n    \"title\": \"Service Degradation\",\n    \"status\": \"INVESTIGATING\",\n    \"affectedComponents\": [\"mon_123\"]\n}\nresponse = requests.post(\n    \"https://api.statusapp.io/incidents\",\n    headers=headers,\n    json=incident_data\n)\n```\n\n### JavaScript Integration\n\n```javascript\nconst apiKey = \"sk_live_abc123\";\n\n// Get all incidents\nconst response = await fetch(\n  \"https://api.statusapp.io/incidents\",\n  {\n    headers: {\n      \"Authorization\": `Bearer ${apiKey}`\n    }\n  }\n);\nconst incidents = await response.json();\n\n// Create monitor\nconst monitorData = {\n  name: \"Website Check\",\n  type: \"http\",\n  url: \"https://example.com\",\n  interval: 60\n};\n\nconst createResponse = await fetch(\n  \"https://api.statusapp.io/monitors\",\n  {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": `Bearer ${apiKey}`,\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(monitorData)\n  }\n);\n```\n\n## Common Use Cases\n\n### Automated Incident Creation\n\nCreate incidents from external monitoring systems:\n\n```bash\ncurl -X POST https://api.statusapp.io/incidents \\\n  -H \"Authorization: Bearer sk_live_abc123\" \\\n  -d '{\n    \"title\": \"External Alert\",\n    \"description\": \"Alert from monitoring system\",\n    \"status\": \"INVESTIGATING\"\n  }'\n```\n\n### Bulk Monitor Management\n\nProgrammatically create multiple monitors:\n\n```python\nfor url in [\"https://api1.example.com\", \"https://api2.example.com\"]:\n    requests.post(\n        \"https://api.statusapp.io/monitors\",\n        headers=headers,\n        json={\n            \"name\": f\"Monitor for {url}\",\n            \"type\": \"http\",\n            \"url\": url,\n            \"interval\": 60\n        }\n    )\n```\n\n## Pagination\n\nAPI responses with multiple results are paginated:\n\n```json\n{\n  \"data\": [/* items */],\n  \"pagination\": {\n    \"page\": 1,\n    \"limit\": 20,\n    \"total\": 150,\n    \"pages\": 8\n  }\n}\n```\n\nAccess next page:\n\n```bash\nGET /api/monitors?page=2&limit=20\n```\n\n## SDKs\n\nOfficial SDKs available:\n- Python: `pip install statusapp`\n- Node.js: `npm install @statusapp/sdk`\n- Go: `go get github.com/statusapp-io/go-sdk`\n\n## API Documentation\n\nFull interactive API documentation: https://api.statusapp.io/docs\n\n- Try endpoints in browser\n- See request/response examples\n- Test with your API key\n- View real data\n\n## Support\n\n- Email: api-support@statusapp.io\n- Documentation: https://docs.statusapp.io\n- Issues: https://github.com/statusapp-io/api-issues"
}
